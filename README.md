# ğŸ• PizzaMaster Pro v2.0

### Sistema Comercial Completo para Pizzarias, Restaurantes e NegÃ³cios AlimentÃ­cios

---

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
â•šâ•â•     â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•
                                                                   PRO v2.0
```

---

## ğŸ“‹ ÃNDICE

1. [VisÃ£o Geral do Sistema](#-visÃ£o-geral-do-sistema)
2. [Estrutura de Arquivos](#-estrutura-de-arquivos)
3. [Tecnologias Utilizadas](#-tecnologias-utilizadas)
4. [INSTALAÃ‡ÃƒO NO SERVIDOR (Sua MÃ¡quina)](#-instalaÃ§Ã£o-no-servidor-sua-mÃ¡quina)
5. [INSTALAÃ‡ÃƒO NO CLIENTE (MÃ¡quina do Cliente)](#-instalaÃ§Ã£o-no-cliente-mÃ¡quina-do-cliente)
6. [HOSPEDAGEM NA INTERNET (ProduÃ§Ã£o)](#-hospedagem-na-internet-produÃ§Ã£o)
7. [ConfiguraÃ§Ã£o do Backend](#-configuraÃ§Ã£o-do-backend)
8. [UsuÃ¡rios e Senhas PadrÃ£o](#-usuÃ¡rios-e-senhas-padrÃ£o)
9. [API REST - Endpoints](#-api-rest---endpoints)
10. [MÃ³dulos do Sistema](#-mÃ³dulos-do-sistema)
11. [PersonalizaÃ§Ã£o para Cada Cliente](#-personalizaÃ§Ã£o-para-cada-cliente)
12. [SoluÃ§Ã£o de Problemas](#-soluÃ§Ã£o-de-problemas)
13. [Suporte TÃ©cnico](#-suporte-tÃ©cnico)

---

## ğŸ¯ VisÃ£o Geral do Sistema

O **PizzaMaster Pro** Ã© um sistema de gestÃ£o comercial completo desenvolvido para pizzarias, restaurantes, lanchonetes e qualquer negÃ³cio do setor alimentÃ­cio.

### âœ… O que estÃ¡ incluÃ­do:

| MÃ³dulo               | DescriÃ§Ã£o                                 |
| -------------------- | ----------------------------------------- |
| ğŸ“Š Dashboard         | KPIs em tempo real, grÃ¡ficos e mÃ©tricas   |
| ğŸ• CardÃ¡pio Digital  | Gerenciamento completo com preÃ§os P/M/G   |
| ğŸ“‹ Pedidos (Kanban)  | Controle visual do fluxo de pedidos       |
| ğŸ‘¥ Clientes          | Cadastro completo com histÃ³rico           |
| ğŸ“¦ Estoque           | Controle com alertas de reposiÃ§Ã£o         |
| ğŸ’° Financeiro        | Receitas, despesas e DRE                  |
| ğŸ“ˆ RelatÃ³rios        | Gerenciais completos                      |
| ğŸŒ CardÃ¡pio Online   | PÃ¡gina para cliente fazer pedido          |
| ğŸ–¨ï¸ ImpressÃ£o Comanda | 3 modelos (completa, cozinha, entregador) |
| ğŸ’¬ Central WhatsApp  | Templates e comunicaÃ§Ã£o com clientes      |
| âš™ï¸ Backend API       | Node.js + Express + PostgreSQL            |

---

## ğŸ“ Estrutura de Arquivos

```
PizzaMaster Pro/
â”‚
â”œâ”€â”€ ğŸ“ frontend/
â”‚   â”œâ”€â”€ ğŸ“„ index.html              â† Sistema principal (admin)
â”‚   â”œâ”€â”€ ğŸ¨ style.css               â† Design system completo
â”‚   â”œâ”€â”€ âš¡ app.js                  â† LÃ³gica e integraÃ§Ã£o com API
â”‚   â”œâ”€â”€ ğŸŒ cardapio-online.html    â† CardÃ¡pio pÃºblico para clientes
â”‚   â”œâ”€â”€ ğŸ–¨ï¸  comanda.html           â† Sistema de impressÃ£o
â”‚   â””â”€â”€ ğŸ’¬ whatsapp.html           â† Central de comunicaÃ§Ã£o
â”‚
â”œâ”€â”€ ğŸ“ backend/
â”‚   â”œâ”€â”€ âš™ï¸  server.js              â† API REST completa
â”‚   â””â”€â”€ ğŸ“¦ package.json            â† DependÃªncias Node.js
â”‚
â”œâ”€â”€ ğŸ“ database/
â”‚   â””â”€â”€ ğŸ—„ï¸  schema.sql             â† Banco de dados PostgreSQL
â”‚
â””â”€â”€ ğŸ“– README.md                   â† Este arquivo
```

---

## ğŸ› ï¸ Tecnologias Utilizadas

| Camada         | Tecnologia                | VersÃ£o    |
| -------------- | ------------------------- | --------- |
| Frontend       | HTML5 + CSS3 + JavaScript | ES6+      |
| GrÃ¡ficos       | Chart.js                  | 4.x       |
| Backend        | Node.js + Express         | 18+ / 4.x |
| Banco de Dados | PostgreSQL                | 14+       |
| AutenticaÃ§Ã£o   | JWT + bcryptjs            | -         |
| Fontes         | Google Fonts              | -         |

---

# ğŸ–¥ï¸ INSTALAÃ‡ÃƒO NO SERVIDOR (Sua MÃ¡quina)

> Esta seÃ§Ã£o Ã© para vocÃª â€” o desenvolvedor que vai hospedar o sistema.

## PRÃ‰-REQUISITOS

VocÃª precisa ter instalado na sua mÃ¡quina:

- âœ… **Node.js 18+** â†’ https://nodejs.org (baixe a versÃ£o LTS)
- âœ… **PostgreSQL 14+** â†’ https://postgresql.org/download
- âœ… **pgAdmin 4** â†’ vem junto com o PostgreSQL
- âœ… **VS Code** â†’ https://code.visualstudio.com
- âœ… **Git** (opcional) â†’ https://git-scm.com

---

## PASSO 1 â€” Verificar se Node.js estÃ¡ instalado

Abra o **CMD** ou **Terminal do VS Code** (`Ctrl + '`) e digite:

```bash
node --version
npm --version
```

Deve aparecer algo como:

```
v18.17.0
9.6.7
```

Se nÃ£o aparecer, instale o Node.js no link acima.

---

## PASSO 2 â€” Verificar se PostgreSQL estÃ¡ instalado

```bash
psql --version
```

Deve aparecer:

```
psql (PostgreSQL) 18.x
```

---

## PASSO 3 â€” Criar o Banco de Dados no pgAdmin

1. Abra o **pgAdmin 4**
2. Digite sua senha master
3. Expanda **Servers â†’ PostgreSQL**
4. Clique com botÃ£o direito em **Databases**
5. Clique em **Create â†’ Database...**
6. No campo **Database** digite: `pizzamaster`
7. Clique em **Save**

---

## PASSO 4 â€” Executar o Schema SQL

1. Clique em `pizzamaster` para selecionar
2. VÃ¡ em **Tools â†’ Query Tool**
3. Clique no Ã­cone ğŸ“‚ **Open File**
4. Navegue atÃ© a pasta `database/` do projeto
5. Selecione o arquivo `schema.sql`
6. Clique em **Open**
7. Pressione **F5** para executar

âœ… Deve aparecer na aba Messages:

```
CREATE TRIGGER
Query returned successfully in 433 msec.
```

### Verificar tabelas criadas:

Cole no Query Tool e pressione F5:

```sql
SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'public'
ORDER BY table_name;
```

Deve aparecer 10 tabelas:

```
clientes
configuracoes
estoque
itens_pedido
movimentacoes_estoque
pedidos
pizzas
usuarios
v_dashboard
v_top_pizzas
```

---

## PASSO 5 â€” Configurar a Senha do Banco

Abra o arquivo `backend/server.js` no VS Code.

Encontre as linhas 26 a 35 e configure:

```javascript
const pool = new Pool({
  host: process.env.DB_HOST || "localhost",
  port: process.env.DB_PORT || 5432,
  database: process.env.DB_NAME || "pizzamaster",
  user: process.env.DB_USER || "postgres",
  password: process.env.DB_PASS || "SUA_SENHA_AQUI", // â† coloque sua senha
  max: 20,
  idleTimeoutMillis: 30000,
  connectionTimeoutMillis: 2000,
});
```

> âš ï¸ **IMPORTANTE:** Substitua `SUA_SENHA_AQUI` pela senha que vocÃª definiu ao instalar o PostgreSQL.

---

## PASSO 6 â€” Instalar DependÃªncias e Rodar o Backend

No terminal do VS Code:

```bash
cd backend
npm install
node server.js
```

âœ… Deve aparecer:

```
ğŸ• PizzaMaster Pro Backend rodando na porta 3001
ğŸ“¡ API: http://localhost:3001/api
â¤ï¸  Health: http://localhost:3001/api/health
```

---

## PASSO 7 â€” Testar se estÃ¡ tudo funcionando

Abra o navegador e acesse:

```
http://localhost:3001/api/health
```

âœ… Deve aparecer:

```json
{ "status": "ok", "timestamp": "2026-xx-xxTxx:xx:xx.xxxZ", "db": "connected" }
```

---

## PASSO 8 â€” Abrir o Frontend

Abra o arquivo `frontend/index.html` no navegador.

> **Dica:** Use a extensÃ£o **Live Server** do VS Code para abrir com reload automÃ¡tico.
> Clique com botÃ£o direito no `index.html` â†’ **Open with Live Server**

---

# ğŸ’» INSTALAÃ‡ÃƒO NO CLIENTE (MÃ¡quina do Cliente)

> Esta seÃ§Ã£o Ã© para instalar o sistema na mÃ¡quina do seu cliente (pizzaria, restaurante, etc.)

## OPÃ‡ÃƒO A â€” Cliente acessa pelo navegador (Recomendado âœ…)

Neste modelo, **vocÃª hospeda o sistema no seu servidor** e o cliente acessa pelo navegador â€” sem instalar nada na mÃ¡quina dele!

O cliente sÃ³ precisa de:

- âœ… Computador, tablet ou celular
- âœ… Navegador (Chrome, Firefox, Edge)
- âœ… ConexÃ£o com internet

> Veja a seÃ§Ã£o **HOSPEDAGEM NA INTERNET** abaixo para configurar isso.

---

## OPÃ‡ÃƒO B â€” InstalaÃ§Ã£o Local na MÃ¡quina do Cliente

Se o cliente nÃ£o tiver internet ou preferir tudo local, instale diretamente na mÃ¡quina dele.

### PRÃ‰-REQUISITOS na mÃ¡quina do cliente:

| Software       | Download                  | ObservaÃ§Ã£o    |
| -------------- | ------------------------- | ------------- |
| Node.js 18+    | https://nodejs.org        | VersÃ£o LTS    |
| PostgreSQL 14+ | https://postgresql.org    | Anote a senha |
| pgAdmin 4      | Vem com PostgreSQL        | -             |
| Google Chrome  | https://chrome.google.com | Recomendado   |

---

### PASSO A PASSO NA MÃQUINA DO CLIENTE:

**1. Copiar os arquivos do projeto**

Copie a pasta completa `PizzaMaster Pro` para o computador do cliente. Pode usar:

- Pen drive USB
- Google Drive / OneDrive
- Enviar por WhatsApp (zip)

Sugere-se colocar em: `C:\PizzaMaster Pro\`

---

**2. Instalar Node.js**

- Acesse https://nodejs.org
- Baixe a versÃ£o **LTS** (recomendada)
- Execute o instalador `.msi`
- Clique em **Next** em tudo
- Reinicie o computador apÃ³s instalar

Verificar: abra o CMD e digite `node --version`

---

**3. Instalar PostgreSQL**

- Acesse https://postgresql.org/download/windows
- Baixe o instalador para Windows
- Execute e siga os passos:
  - Porta: **5432** (deixe padrÃ£o)
  - Senha: anote bem! (ex: `pizzamaster2026`)
  - Locale: **Portuguese, Brazil**
- Finalize a instalaÃ§Ã£o

---

**4. Criar o banco de dados**

Abra o **pgAdmin 4** (instalado junto com PostgreSQL):

- Digite a senha master (mesma do PostgreSQL)
- Clique direito em **Databases â†’ Create â†’ Database**
- Nome: `pizzamaster`
- Clique **Save**

---

**5. Executar o schema.sql**

- Selecione o banco `pizzamaster`
- VÃ¡ em **Tools â†’ Query Tool**
- Clique no Ã­cone ğŸ“‚ e abra o arquivo `database/schema.sql`
- Pressione **F5**

---

**6. Configurar a senha no server.js**

Abra `backend/server.js` e edite a linha da senha:

```javascript
password: process.env.DB_PASS || "SENHA_QUE_O_CLIENTE_DEFINIU",
```

---

**7. Criar atalho para iniciar o sistema**

Crie um arquivo chamado `INICIAR.bat` na raiz do projeto com o conteÃºdo:

```bat
@echo off
title PizzaMaster Pro - Servidor
color 0A
echo.
echo  ================================================
echo   ğŸ• PIZZAMASTER PRO - Iniciando Sistema...
echo  ================================================
echo.
cd /d "%~dp0backend"
echo  âœ… Iniciando Backend...
start "PizzaMaster Backend" cmd /k "node server.js"
timeout /t 3 /nobreak > nul
echo  âœ… Abrindo Sistema no Navegador...
start chrome "http://localhost:5500/frontend/index.html"
echo.
echo  Sistema iniciado com sucesso!
echo  Pressione qualquer tecla para fechar esta janela...
pause > nul
```

> Agora o cliente sÃ³ precisa dar **duplo clique** no `INICIAR.bat` para abrir o sistema!

---

**8. Criar atalho na Ã¡rea de trabalho**

- Clique direito no `INICIAR.bat`
- Clique em **Criar atalho**
- Arraste o atalho para a **Ãrea de Trabalho**
- Renomeie para `ğŸ• PizzaMaster Pro`

---

# ğŸŒ HOSPEDAGEM NA INTERNET (ProduÃ§Ã£o)

> Para que o cliente acesse o sistema de qualquer lugar, pelo celular ou computador.

## OPÃ‡ÃƒO 1 â€” VPS (Recomendado para revenda)

### Provedores recomendados:

| Provedor     | Plano         | PreÃ§o/mÃªs | Link             |
| ------------ | ------------- | --------- | ---------------- |
| Hostinger    | KVM 2         | R$ 29,99  | hostinger.com.br |
| DigitalOcean | Droplet Basic | US$ 6     | digitalocean.com |
| Contabo      | VPS S         | â‚¬ 4,99    | contabo.com      |
| Vultr        | Regular       | US$ 6     | vultr.com        |

### ConfiguraÃ§Ã£o mÃ­nima do servidor:

- 2 GB RAM
- 1 vCPU
- 50 GB SSD
- Ubuntu 22.04 LTS

---

### PASSO A PASSO â€” VPS Ubuntu:

**1. Conectar no servidor via SSH:**

```bash
ssh root@IP_DO_SERVIDOR
```

**2. Atualizar o sistema:**

```bash
apt update && apt upgrade -y
```

**3. Instalar Node.js 18:**

```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install -y nodejs
node --version
```

**4. Instalar PostgreSQL:**

```bash
apt install -y postgresql postgresql-contrib
systemctl start postgresql
systemctl enable postgresql
```

**5. Configurar banco de dados:**

```bash
sudo -u postgres psql
```

Dentro do PostgreSQL, execute:

```sql
CREATE DATABASE pizzamaster;
CREATE USER pizzauser WITH ENCRYPTED PASSWORD 'SuaSenhaForte2026!';
GRANT ALL PRIVILEGES ON DATABASE pizzamaster TO pizzauser;
\q
```

**6. Enviar os arquivos para o servidor:**

No seu computador (Windows), use o **WinSCP** (https://winscp.net) para enviar a pasta do projeto para `/var/www/pizzamaster/`

**7. Executar o schema:**

```bash
cd /var/www/pizzamaster
psql -U pizzauser -d pizzamaster -f database/schema.sql
```

**8. Instalar dependÃªncias:**

```bash
cd /var/www/pizzamaster/backend
npm install
```

**9. Instalar PM2 (manter servidor rodando 24/7):**

```bash
npm install -g pm2
pm2 start server.js --name "pizzamaster"
pm2 startup
pm2 save
```

**10. Instalar Nginx (proxy reverso):**

```bash
apt install -y nginx
```

Crie o arquivo de configuraÃ§Ã£o:

```bash
nano /etc/nginx/sites-available/pizzamaster
```

Cole o conteÃºdo:

```nginx
server {
    listen 80;
    server_name SEU_DOMINIO.com.br;

    # Frontend
    location / {
        root /var/www/pizzamaster/frontend;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    # Backend API
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

Ative o site:

```bash
ln -s /etc/nginx/sites-available/pizzamaster /etc/nginx/sites-enabled/
nginx -t
systemctl restart nginx
```

**11. Instalar SSL (HTTPS gratuito):**

```bash
apt install -y certbot python3-certbot-nginx
certbot --nginx -d SEU_DOMINIO.com.br
```

âœ… Pronto! O sistema estarÃ¡ acessÃ­vel em `https://SEU_DOMINIO.com.br`

---

## OPÃ‡ÃƒO 2 â€” DomÃ­nio para cada cliente

Para cada cliente ter seu prÃ³prio endereÃ§o:

| Cliente          | DomÃ­nio               | Custo     |
| ---------------- | --------------------- | --------- |
| Pizzaria do JoÃ£o | pizzariadojoao.com.br | R$ 40/ano |
| Burger House     | burgerhouse.com.br    | R$ 40/ano |

Registre domÃ­nios em: **https://registro.br**

---

# âš™ï¸ ConfiguraÃ§Ã£o do Backend

## VariÃ¡veis de Ambiente

Crie um arquivo `.env` dentro da pasta `backend/`:

```env
# â”€â”€ BANCO DE DADOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pizzamaster
DB_USER=postgres
DB_PASS=sua_senha_aqui

# â”€â”€ SERVIDOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PORT=3001
NODE_ENV=production

# â”€â”€ SEGURANÃ‡A â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
JWT_SECRET=pizzamaster_chave_secreta_muito_longa_2026

# â”€â”€ WHATSAPP (opcional) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
WHATSAPP_NUMBER=5511999999999
```

> âš ï¸ **NUNCA compartilhe o arquivo `.env`** â€” ele contÃ©m senhas!

---

## Iniciar o servidor:

```bash
# Desenvolvimento
node server.js

# ProduÃ§Ã£o (com PM2)
pm2 start server.js --name "pizzamaster"

# Ver logs
pm2 logs pizzamaster

# Reiniciar
pm2 restart pizzamaster

# Parar
pm2 stop pizzamaster
```

---

# ğŸ” UsuÃ¡rios e Senhas PadrÃ£o

> âš ï¸ **TROQUE AS SENHAS** apÃ³s a primeira instalaÃ§Ã£o!

| Email                     | Senha PadrÃ£o | Perfil        | PermissÃµes         |
| ------------------------- | ------------ | ------------- | ------------------ |
| admin@pizzamaster.com     | admin123     | Administrador | Acesso total       |
| gerente@pizzamaster.com   | admin123     | Gerente       | Sem configuraÃ§Ãµes  |
| atendente@pizzamaster.com | admin123     | Atendente     | Pedidos e clientes |

### Como trocar a senha via pgAdmin:

```sql
-- Gerar novo hash (use bcrypt online: https://bcrypt-generator.com)
UPDATE usuarios
SET senha_hash = '$2a$10$NOVO_HASH_AQUI'
WHERE email = 'admin@pizzamaster.com';
```

---

# ğŸ“¡ API REST â€” Endpoints

## Base URL

```
http://localhost:3001/api
```

## AutenticaÃ§Ã£o

Todas as rotas protegidas precisam do header:

```
Authorization: Bearer SEU_TOKEN_JWT
```

## Endpoints DisponÃ­veis

### ğŸ”‘ Auth

```
POST   /api/auth/login              Login no sistema
POST   /api/auth/register           Cadastrar usuÃ¡rio
```

### ğŸ• Pizzas

```
GET    /api/pizzas                  Listar todas as pizzas
GET    /api/pizzas?categoria=especial   Filtrar por categoria
GET    /api/pizzas/:id              Detalhes de uma pizza
POST   /api/pizzas                  Criar nova pizza ğŸ”’
PUT    /api/pizzas/:id              Editar pizza ğŸ”’
DELETE /api/pizzas/:id              Desativar pizza ğŸ”’
```

### ğŸ‘¥ Clientes

```
GET    /api/clientes                Listar clientes ğŸ”’
GET    /api/clientes?search=nome    Buscar clientes ğŸ”’
GET    /api/clientes/:id            Detalhes + histÃ³rico ğŸ”’
POST   /api/clientes                Cadastrar cliente ğŸ”’
PUT    /api/clientes/:id            Editar cliente ğŸ”’
DELETE /api/clientes/:id            Desativar cliente ğŸ”’
```

### ğŸ“‹ Pedidos

```
GET    /api/pedidos                 Listar pedidos ğŸ”’
GET    /api/pedidos?status=recebido Filtrar por status ğŸ”’
GET    /api/pedidos/:id             Detalhes do pedido ğŸ”’
POST   /api/pedidos                 Criar pedido ğŸ”’
PATCH  /api/pedidos/:id/status      Atualizar status ğŸ”’
```

### ğŸ“¦ Estoque

```
GET    /api/estoque                 Listar estoque ğŸ”’
POST   /api/estoque                 Adicionar item ğŸ”’
PATCH  /api/estoque/:id/repor       Repor quantidade ğŸ”’
```

### ğŸ“Š Dashboard

```
GET    /api/dashboard               KPIs em tempo real ğŸ”’
GET    /api/relatorios/vendas       RelatÃ³rio de vendas ğŸ”’
GET    /api/health                  Status do servidor âœ…
```

> ğŸ”’ = Requer autenticaÃ§Ã£o JWT

---

# ğŸ¨ MÃ³dulos do Sistema

## 1. ğŸ“Š Dashboard

- KPIs animados (pedidos, faturamento, clientes, tempo)
- GrÃ¡fico de vendas semanal
- Top 6 pizzas mais vendidas
- Feed de pedidos em tempo real

## 2. ğŸ• CardÃ¡pio Digital

- Grid de pizzas com emojis
- Filtros por categoria
- PreÃ§os P, M e G
- Adicionar, editar e remover pizzas

## 3. ğŸ“‹ Pedidos Kanban

- 4 colunas: Recebido â†’ Preparando â†’ Entrega â†’ Entregue
- Arrastar e avanÃ§ar pedidos
- Novo pedido com carrinho

## 4. ğŸ‘¥ Clientes

- Tabela completa com busca
- Total gasto e nÃºmero de pedidos
- BotÃ£o de WhatsApp direto

## 5. ğŸ“¦ Estoque

- Alertas visuais: âœ… OK / âš ï¸ Baixo / â›” Esgotado
- ReposiÃ§Ã£o rÃ¡pida

## 6. ğŸ’° Financeiro

- Receita, despesas e lucro
- Tabela de transaÃ§Ãµes
- DRE simplificado

## 7. ğŸ“ˆ RelatÃ³rios

- Vendas por perÃ­odo
- Top clientes
- Ranking de pizzas
- DRE completo

## 8. ğŸŒ CardÃ¡pio Online (`cardapio-online.html`)

- PÃ¡gina pÃºblica para clientes
- Carrinho completo
- Entrega ou retirada
- Pedido direto pelo WhatsApp

## 9. ğŸ–¨ï¸ ImpressÃ£o de Comanda (`comanda.html`)

- Modelo Completo (cliente)
- Modelo Cozinha
- Modelo Entregador
- ImpressÃ£o otimizada para tÃ©rmica 80mm

## 10. ğŸ’¬ Central WhatsApp (`whatsapp.html`)

- Interface estilo WhatsApp Web
- 9 templates prontos
- AÃ§Ãµes rÃ¡pidas por status do pedido
- EstatÃ­sticas de mensagens

---

# ğŸ¨ PersonalizaÃ§Ã£o para Cada Cliente

## Trocar Nome e Cores (5 minutos)

### 1. Nome da pizzaria â€” `frontend/index.html`

Linha ~20:

```html
<h2>PizzaMaster</h2>
â† trocar pelo nome do cliente <small>Sistema Pro</small> â† slogan opcional
```

### 2. Cor principal â€” `frontend/style.css`

Linhas 1-10:

```css
:root {
  --primary: #FF4500;      â† cor principal (laranja padrÃ£o)
  --primary-dark: #CC3700; â† cor mais escura
  --primary-light: #FF6B35;â† cor mais clara
  --accent: #FFD700;       â† cor de destaque (amarelo padrÃ£o)
}
```

Exemplos de cores por segmento:

```css
/* Pizzaria clÃ¡ssica */
--primary: #ff4500;
/* Hamburgueria */
--primary: #8b4513;
/* Sushi/JaponÃªs */
--primary: #dc143c;
/* AÃ§aÃ­/Natural */
--primary: #228b22;
/* Cafeteria */
--primary: #6f4e37;
/* Sorvetes */
--primary: #ff69b4;
```

### 3. NÃºmero do WhatsApp â€” `frontend/cardapio-online.html`

Linha ~130:

```javascript
const WHATSAPP = "5511999999999"; // â† nÃºmero do cliente (com DDI 55)
```

### 4. Dados da empresa â€” pgAdmin

```sql
UPDATE configuracoes SET valor = 'Pizzaria do JoÃ£o' WHERE chave = 'nome_empresa';
UPDATE configuracoes SET valor = '(11) 9999-9999' WHERE chave = 'telefone';
UPDATE configuracoes SET valor = 'Rua das Pizzas, 123' WHERE chave = 'endereco';
UPDATE configuracoes SET valor = '5511999999999' WHERE chave = 'whatsapp';
```

### 5. CardÃ¡pio â€” via interface ou SQL

```sql
-- Trocar todas as pizzas do cardÃ¡pio padrÃ£o
DELETE FROM pizzas WHERE 1=1;

-- Inserir cardÃ¡pio personalizado
INSERT INTO pizzas (nome, categoria, ingredientes, preco_p, preco_m, preco_g, emoji)
VALUES ('Pizza do JoÃ£o', 'especial', 'Ingredientes...', 35.90, 45.90, 59.90, 'ğŸ•');
```

---

# ğŸ”§ SoluÃ§Ã£o de Problemas

## âŒ "Cannot connect to database"

**Causa:** Senha do PostgreSQL incorreta

**SoluÃ§Ã£o:** Verifique a senha no `server.js`:

```javascript
password: "SUA_SENHA_CORRETA",
```

---

## âŒ "Port 3001 is already in use"

**Causa:** O servidor jÃ¡ estÃ¡ rodando em outra janela

**SoluÃ§Ã£o no Windows:**

```bash
netstat -ano | findstr :3001
taskkill /PID NUMERO_DO_PID /F
```

Ou simplesmente feche o terminal anterior e abra um novo.

---

## âŒ "npm: command not found"

**Causa:** Node.js nÃ£o estÃ¡ instalado ou nÃ£o estÃ¡ no PATH

**SoluÃ§Ã£o:** Reinstale o Node.js em https://nodejs.org e reinicie o computador

---

## âŒ PÃ¡gina em branco no navegador

**Causa:** Caminho do arquivo incorreto

**SoluÃ§Ã£o:** Certifique-se de abrir o arquivo via Live Server ou pelo caminho correto:

```
http://127.0.0.1:5500/frontend/index.html
```

---

## âŒ "Module not found" ao rodar server.js

**Causa:** DependÃªncias nÃ£o instaladas

**SoluÃ§Ã£o:**

```bash
cd backend
rm -rf node_modules
npm install
node server.js
```

---

## âŒ Emojis nÃ£o aparecem nas pizzas

**Causa:** Fonte do sistema nÃ£o suporta emojis coloridos

**SoluÃ§Ã£o:** Troque o emoji por um que funcione no sistema, ou substitua por texto:

```javascript
emoji: "ğŸ•"; // tente outros: ğŸ«“ ğŸ§€ ğŸŒ¶ï¸ ğŸ”
```

---

## âŒ pgAdmin nÃ£o abre / senha master esquecida

**SoluÃ§Ã£o:** Resetar senha master do pgAdmin:

1. Abra o Regedit (`Win + R` â†’ `regedit`)
2. Navegue atÃ©: `HKEY_CURRENT_USER\Software\pgadmin.org`
3. Delete a pasta `pgAdmin 4`
4. Reabra o pgAdmin e defina uma nova senha

---

# ğŸ’° Modelo de NegÃ³cio â€” Como Vender

## PrecificaÃ§Ã£o sugerida:

| ServiÃ§o                            | Valor               |
| ---------------------------------- | ------------------- |
| InstalaÃ§Ã£o + ConfiguraÃ§Ã£o          | R$ 1.500 â€“ R$ 3.000 |
| PersonalizaÃ§Ã£o completa            | R$ 500 â€“ R$ 1.000   |
| Treinamento (2h)                   | R$ 300 â€“ R$ 500     |
| Mensalidade (suporte + hospedagem) | R$ 150 â€“ R$ 300/mÃªs |
| Hospedagem VPS por cliente         | R$ 30 â€“ R$ 50/mÃªs   |

## ProjeÃ§Ã£o com 10 clientes:

```
InstalaÃ§Ãµes:  10 Ã— R$ 2.000 = R$ 20.000 (entrada)
Mensalidades: 10 Ã— R$ 200   = R$ 2.000/mÃªs (recorrente)
```

---

# ğŸ“ Suporte TÃ©cnico

## InformaÃ§Ãµes do Sistema

| Item            | Detalhe                |
| --------------- | ---------------------- |
| VersÃ£o          | PizzaMaster Pro v2.0   |
| Desenvolvido em | Fevereiro/2026         |
| Backend         | Node.js 18 + Express 4 |
| Banco           | PostgreSQL 14+         |
| Frontend        | HTML5 + CSS3 + JS ES6+ |
| LicenÃ§a         | ProprietÃ¡ria           |

## Checklist de Entrega ao Cliente

- [ ] Sistema instalado e funcionando
- [ ] Banco de dados criado com dados iniciais
- [ ] CardÃ¡pio personalizado com as pizzas do cliente
- [ ] Logo e cores configuradas
- [ ] NÃºmero do WhatsApp configurado
- [ ] Senha do admin trocada
- [ ] Atalho criado na Ã¡rea de trabalho
- [ ] Treinamento realizado
- [ ] Manual entregue ao cliente
- [ ] Backup inicial realizado

---

## Comandos Ãšteis de ManutenÃ§Ã£o

```bash
# Backup do banco de dados
pg_dump -U postgres pizzamaster > backup_$(date +%Y%m%d).sql

# Restaurar backup
psql -U postgres -d pizzamaster < backup_20260225.sql

# Ver logs do servidor (PM2)
pm2 logs pizzamaster

# Reiniciar servidor apÃ³s atualizaÃ§Ã£o
pm2 restart pizzamaster

# Ver status dos processos
pm2 status
```
https://github.com/fabiomendes33/pizzamaster-pro

---

_ğŸ• PizzaMaster Pro v2.0 â€” Sistema Comercial Completo_
_Desenvolvido com â¤ï¸ para o mercado brasileiro_
